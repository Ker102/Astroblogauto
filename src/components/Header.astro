---
import { SITE_TITLE } from '../consts';
import HeaderLink from './HeaderLink.astro';
---

<header class="ios-header">
	<div class="header-content">
		<!-- Left: Branding -->
		<a href="/" class="brand-link">
			<span class="brand-logo">KJ</span>
			<span class="brand-icon">
				<svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/></svg>
			</span>
			<span class="brand-tag">@ker102</span>
		</a>

		<!-- Center: Island Navigation -->
		<nav class="nav-island">
			<HeaderLink href="/">Home</HeaderLink>
			<HeaderLink href="/blog">Blog</HeaderLink>
			<HeaderLink href="/portfolio">Portfolio</HeaderLink>
			<HeaderLink href="/about">About</HeaderLink>
		</nav>

		<!-- Right: Social Actions -->
		<div class="social-actions">
			<a href="https://github.com/ker102" target="_blank" aria-label="GitHub">
				<!-- GitHub Icon (Clean) -->
				<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
				</svg>
			</a>
			<a href="https://www.linkedin.com/in/kristofer-jussmann-ker102/" target="_blank" aria-label="LinkedIn">
				<!-- LinkedIn Icon (Clean) -->
				<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
					<rect x="2" y="9" width="4" height="12"></rect>
					<circle cx="4" cy="4" r="2"></circle>
				</svg>
			</a>
		</div>
	</div>
</header>

<style>
	.ios-header {
		position: fixed;
		top: 0;
		left: 0;
		right: 0;
		z-index: 1000;
		padding: 1.5rem 2rem;
		transition: padding 0.3s ease;
	}

	.header-content {
		max-width: 1400px;
		margin: 0 auto;
		display: flex;
		align-items: center;
		justify-content: space-between;
	}

	/* Brand: Stronger, Bigger, Black */
	/* Brand: Stronger, Bigger, Black */
	.brand-link {
		display: flex;
		align-items: center; /* Changed from baseline to center for better icon alignment */
		gap: 0.75rem; /* Increased gap slightly */
		text-decoration: none;
		margin-left: -0.5rem; /* Shift branding to the left */
	}
	
	.brand-logo {
		font-size: 2rem; /* Increased from 1.75rem to match "Big" look */
		font-weight: 800;
		letter-spacing: -0.04em;
		
		/* Silver/Metallic Gradient Style */
		background: linear-gradient(180deg, #FFFFFF 0%, #A0A0A0 100%);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		text-shadow: 0px 1px 3px rgba(0,0,0,0.15);
		filter: drop-shadow(0 1px 1px rgba(0,0,0,0.1));
	}
	
	.brand-icon {
		display: flex;
		align-items: center;
		justify-content: center;
		color: #555;
		/* Removed margin-top adjustment */
	}
	
	.brand-icon svg {
		width: 28px; /* Explicitly sized larger */
		height: 28px;
	}

	.brand-tag {
		font-size: 1.1rem; /* Slightly larger */
		font-weight: 500;
		color: #666;
		transition: color 0.2s ease;
		padding-top: 2px; /* Visual optical alignment */
	}
		transition: color 0.2s ease;
	}

	.brand-link:hover .brand-tag {
		color: #000;
	}

	/* Nav Island: The "Apple Glass" Pill */
	.nav-island {
		display: flex;
		gap: 0.25rem;
		padding: 0.4rem;
		background: rgba(255, 255, 255, 0.65);
		backdrop-filter: blur(20px);
		-webkit-backdrop-filter: blur(20px);
		border-radius: 999px;
		border: 1px solid rgba(255, 255, 255, 0.4);
		box-shadow: 0 4px 20px rgba(0,0,0,0.04);
		transition: transform 0.2s ease, box-shadow 0.2s ease;
	}
	
	.nav-island:hover {
		box-shadow: 0 8px 30px rgba(0,0,0,0.08);
		transform: translateY(-1px);
	}

	/* HeaderLink styles are global, but we can target them here if needed */
	.nav-island :global(a) {
		padding: 0.6rem 1.25rem;
		border-radius: 999px;
		font-size: 0.95rem;
		font-weight: 500;
		color: #555;
		transition: all 0.2s cubic-bezier(0.25, 0.1, 0.25, 1);
	}

	.nav-island :global(a:hover) {
		color: #000;
		background: rgba(255,255,255,0.8);
	}

	.nav-island :global(a.active) {
		background: #000;
		color: #fff;
		box-shadow: 0 2px 10px rgba(0,0,0,0.15);
	}

	/* Social Actions */
	.social-actions {
		display: flex;
		align-items: center;
		gap: 0.75rem;
	}
	
	.social-actions a {
		width: 40px;
		height: 40px;
		display: flex;
		align-items: center;
		justify-content: center;
		border-radius: 50%;
		color: #333;
		background: rgba(255,255,255,0.0);
		transition: all 0.2s ease;
	}
	
	.social-actions a:hover {
		background: rgba(0,0,0,0.05); /* Very subtle hover bg */
		color: #000;
		transform: scale(1.05);
	}

	@media (max-width: 768px) {
		.header-content {
			justify-content: center;
			position: relative;
		}
		.nav-island {
			position: fixed;
			bottom: 2rem;
			left: 50%;
			transform: translateX(-50%);
			z-index: 1000;
			background: rgba(255, 255, 255, 0.85); /* More opaque on mobile */
			box-shadow: 0 10px 40px rgba(0,0,0,0.15);
		}
		.nav-island:hover {
			transform: translateX(-50%) translateY(-2px);
		}
		
		.brand-link {
			position: absolute;
			left: 0;
			top: 50%;
			transform: translateY(-50%);
		}
		.social-actions {
			position: absolute;
			right: 0;
			top: 50%;
			transform: translateY(-50%);
		}
	}
</style>
